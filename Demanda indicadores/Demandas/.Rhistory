media_dias_hospitais <- rbind(dias_hospitais_exist, dias_hospitais_novos)
i <- media_dias_hospitais %>%
ggplot(aes(x = ano, y = dias_medios,
fill = tipo_hosp)) + geom_col(position = "dodge") +
theme_minimal()
plotly::ggplotly(i)
View(media_dias_hospitais)
dias_hospitais_exist <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %in% cnes_2019c) %>%
group_by(ano, mes_ano, uf, cnes, fantasia, municipio_pad) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais existentes")
dias_hospitais_exist <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %in% cnes_2019c) %>%
group_by(ano, mes_ano, uf, cnes, fantasia, municipio_pad) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais existentes")
dias_hospitais_novos <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %ni% cnes_2019c) %>%
group_by(ano, mes_ano, uf, cnes, fantasia, municipio_pad) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais novos")
dias_hospitais_novos <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %ni% cnes_2019c) %>%
group_by(ano, mes_ano, uf, cnes, fantasia, municipio_pad) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais novos")
media_dias_hospitais <- rbind(dias_hospitais_exist, dias_hospitais_novos)
View(media_dias_hospitais)
dias_hospitais_exist <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %in% cnes_2019c) %>%
group_by(ano, mes_ano, uf, municipio_pad) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais existentes")
dias_hospitais_exist <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %in% cnes_2019c) %>%
group_by(ano, mes_ano, uf, municipio_pad) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais existentes")
dias_hospitais_novos <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %ni% cnes_2019c) %>%
group_by(ano, mes_ano, uf, municipio_pad) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais novos")
dias_hospitais_novos <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %ni% cnes_2019c) %>%
group_by(ano, mes_ano, uf, municipio_pad) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais novos")
media_dias_hospitais <- rbind(dias_hospitais_exist, dias_hospitais_novos)
View(media_dias_hospitais)
dias_hospitais_novos <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %ni% cnes_2019c) %>%
group_by(ano, mes_ano, uf, municipio_pad) %>%
summarise(dias_medios = round(median(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais novos")
dias_hospitais_exist <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %in% cnes_2019c) %>%
group_by(ano, mes_ano, uf, municipio_pad) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais existentes")
media_dias_hospitais <- rbind(dias_hospitais_exist, dias_hospitais_novos)
dias_hospitais_exist <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %in% cnes_2019c) %>%
group_by(ano, mes_ano, uf, municipio_pad) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais existentes")
dias_hospitais_exist <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %in% cnes_2019c) %>%
group_by(ano, mes_ano, uf, municipio_pad) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais existentes")
dias_hospitais_novos <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %ni% cnes_2019c) %>%
group_by(ano, mes_ano, uf, municipio_pad) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais novos")
writexl::write_xlsx(media_dias_hospitais, "media_internacao.xlsx")
writexl::write_xlsx(media_dias_hospitais, "09_media_internacao.xlsx")
gi_exist <- internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %in% cnes_2019c) %>%
group_by(ano) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais existentes")
gi_novos <- internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %in% cnes_2019c) %>%
group_by(ano) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais novos")
gi <- rbind(gi_novos, gi_exist)
i <- gi %>%
group_by(ano) %>%
summarise() %>%
ggplot(aes(x = ano, y = dias_medios,
fill = tipo_hosp)) + geom_col(position = "dodge") +
theme_minimal()
plotly::ggplotly(i)
i <- gi %>%
ggplot(aes(x = ano, y = dias_medios,
fill = tipo_hosp)) + geom_col(position = "dodge") +
theme_minimal()
plotly::ggplotly(i)
View(gi_novos)
View(gi_exist)
View(gi_exist)
gi_exist <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %in% cnes_2019c)
View(gi_exist)
gi_exist <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %in% cnes_2019c) %>%
group_by(ano) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais existentes")
gi_exist <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %in% cnes_2019c) %>%
group_by(ano) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais existentes")
gi_novos <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %ni% cnes_2019c) %>%
group_by(ano) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais novos")
gi_novos <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %ni% cnes_2019c) %>%
group_by(ano) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais novos")
gi <- rbind(gi_novos, gi_exist)
i <- gi %>%
ggplot(aes(x = ano, y = dias_medios,
fill = tipo_hosp)) + geom_col(position = "dodge") +
theme_minimal()
plotly::ggplotly(i)
internacoes <-
sqlQuery(channel, "SELECT ANO_CMPT, MES_CMPT, UF_ZI, MUNIC_RES, DT_INTER, DT_SAIDA, DIAS_PERM,
MORTE, DIAG_PRINC, DIAG_SECUN, CID_ASSO, CID_MORTE, uf, competencia, MARCA_UTI
CNES
FROM Dados.sih.RD
WHERE substr(DT_INTER, 1, 4) > 2019 AND
(DIAG_PRINC = 'B342' OR DIAG_PRINC = 'U071'
OR DIAG_PRINC = 'U072' OR DIAG_PRINC = 'B948'
OR DIAG_PRINC = 'U099' OR DIAG_PRINC = 'M303'
OR DIAG_PRINC = 'U109' OR DIAG_PRINC = 'Y590'
OR DIAG_PRINC = 'U129' OR DIAG_PRINC = 'U921'
OR DIAG_SECUN = 'B342' OR DIAG_SECUN = 'U071'
OR DIAG_SECUN = 'U072' OR DIAG_SECUN = 'B948'
OR DIAG_SECUN = 'U099' OR DIAG_SECUN = 'M303'
OR DIAG_SECUN = 'U109' OR DIAG_SECUN = 'Y590'
OR DIAG_SECUN = 'U129' OR DIAG_SECUN = 'U921') ", as.is = TRUE)
municipios <-
sqlQuery(channel, 'SELECT * FROM "Analytics Layer".Territorial."Municípios - Hierarquia Completa"',
as.is = TRUE) %>%
select(cod_municipio, municipio_pad)
municipios$cod_municipio <- as.integer(municipios$cod_municipio)
Cadger <- read_csv("~/GitHub/bases_uteis_saude/Cadger.csv",
locale = locale(encoding = "ISO-8859-1",
asciify = TRUE))
internacoes_t <-
internacoes %>%
left_join(Cadger, by = c("CNES"="CNES")) %>%
janitor::clean_names() %>%
left_join(municipios, by = c("codufmun"="cod_municipio"))
View(internacoes)
internacoes <-
sqlQuery(channel, "SELECT ANO_CMPT, MES_CMPT, UF_ZI, MUNIC_RES, DT_INTER, DT_SAIDA, DIAS_PERM,
MORTE, DIAG_PRINC, DIAG_SECUN, CID_ASSO, CID_MORTE, uf, competencia, MARCA_UTI,
CNES
FROM Dados.sih.RD
WHERE substr(DT_INTER, 1, 4) > 2019 AND
(DIAG_PRINC = 'B342' OR DIAG_PRINC = 'U071'
OR DIAG_PRINC = 'U072' OR DIAG_PRINC = 'B948'
OR DIAG_PRINC = 'U099' OR DIAG_PRINC = 'M303'
OR DIAG_PRINC = 'U109' OR DIAG_PRINC = 'Y590'
OR DIAG_PRINC = 'U129' OR DIAG_PRINC = 'U921'
OR DIAG_SECUN = 'B342' OR DIAG_SECUN = 'U071'
OR DIAG_SECUN = 'U072' OR DIAG_SECUN = 'B948'
OR DIAG_SECUN = 'U099' OR DIAG_SECUN = 'M303'
OR DIAG_SECUN = 'U109' OR DIAG_SECUN = 'Y590'
OR DIAG_SECUN = 'U129' OR DIAG_SECUN = 'U921') ", as.is = TRUE)
municipios <-
sqlQuery(channel, 'SELECT * FROM "Analytics Layer".Territorial."Municípios - Hierarquia Completa"',
as.is = TRUE) %>%
select(cod_municipio, municipio_pad)
municipios$cod_municipio <- as.integer(municipios$cod_municipio)
Cadger <- read_csv("~/GitHub/bases_uteis_saude/Cadger.csv",
locale = locale(encoding = "ISO-8859-1",
asciify = TRUE))
internacoes_t <-
internacoes %>%
left_join(Cadger, by = c("CNES"="CNES")) %>%
janitor::clean_names() %>%
left_join(municipios, by = c("codufmun"="cod_municipio")) %>%
filter(marca_uti == )
internacoes_t <-
internacoes %>%
left_join(Cadger, by = c("CNES"="CNES")) %>%
janitor::clean_names() %>%
left_join(municipios, by = c("codufmun"="cod_municipio")) %>%
mutate(marca_uti = as.integer(marca_uti)) %>%
filter(marca_uti > 73 & marca_uti < 87 | marca_uti == 99)
internacoes_t %>%
group_by(diag_princ) %>%
count()
internacoes_hospitais_exist <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %in% cnes_2019c) %>%
group_by(ano, mes_ano, uf, cnes, fantasia, municipio_pad) %>%
summarise(total = n()) %>%
mutate(tipo_hosp = "hospitais existentes")
internacoes_hospitais_novos <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %ni% cnes_2019c) %>%
group_by(ano, mes_ano, uf, cnes, fantasia, municipio_pad) %>%
summarise(total = n()) %>%
mutate(tipo_hosp = "hospitais novos")
internacoes_total <- rbind(internacoes_hospitais_exist, internacoes_hospitais_novos)
g <- internacoes_total %>%
group_by(ano, tipo_hosp) %>%
summarise(total_internacoes = sum(total)) %>%
ggplot(aes(x = ano, y = total_internacoes,
fill = tipo_hosp)) + geom_col(position = "dodge") +
theme_minimal()
plotly::ggplotly(g)
internacoes_total <-
internacoes_total %>%
group_by(ano, uf, municipio_pad, tipo_hosp) %>%
summarise(total_internacoes = sum(total))
# writexl::write_xlsx(internacoes_total, "07_internacoes.xlsx")
obitos_hospitais_exist <-
internacoes_t %>%
janitor::clean_names() %>%
filter(morte == 1) %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %in% cnes_2019c) %>%
group_by(ano, mes_ano, uf, cnes, fantasia, municipio_pad) %>%
summarise(total = n()) %>%
mutate(tipo_hosp = "hospitais existentes")
obitos_hospitais_novos <-
internacoes_t %>%
janitor::clean_names() %>%
filter(morte == 1) %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %ni% cnes_2019c) %>%
group_by(ano, mes_ano, uf, cnes, fantasia, municipio_pad) %>%
summarise(total = n()) %>%
mutate(tipo_hosp = "hospitais novos")
obitos_total <- rbind(obitos_hospitais_exist, obitos_hospitais_novos)
h <- obitos_total %>%
group_by(ano, tipo_hosp) %>%
summarise(total_obitos = sum(total)) %>%
ggplot(aes(x = ano, y = total_obitos,
fill = tipo_hosp)) + geom_col(position = "dodge") +
theme_minimal()
plotly::ggplotly(h)
dias_hospitais_exist <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %in% cnes_2019c) %>%
group_by(ano, mes_ano, uf, municipio_pad) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais existentes")
dias_hospitais_novos <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %ni% cnes_2019c) %>%
group_by(ano, mes_ano, uf, municipio_pad) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais novos")
media_dias_hospitais <- rbind(dias_hospitais_exist,
dias_hospitais_novos)
gi_exist <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %in% cnes_2019c) %>%
group_by(ano) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais existentes")
gi_novos <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %ni% cnes_2019c) %>%
group_by(ano) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais novos")
gi <- rbind(gi_novos, gi_exist)
i <- gi %>%
ggplot(aes(x = ano, y = dias_medios,
fill = tipo_hosp)) + geom_col(position = "dodge") +
theme_minimal()
plotly::ggplotly(i)
View(internacoes_total)
obitos_total <-
obitos_total %>%
group_by(ano, tipo_hosp, uf, municipio_pad) %>%
summarise(total_obitos = sum(total))
writexl::write_xlsx(obitos_total, "08_obitos_internacoes.xlsx")
obitos_total <-
obitos_total %>%
group_by(ano, tipo_hosp, uf, municipio_pad) %>%
summarise(total_obitos = sum(total))
obitos_total <-
obitos_total %>%
group_by(ano, tipo_hosp, uf, municipio_pad) %>%
summarise(total_obitos = sum(total))
obitos_hospitais_exist <-
internacoes_t %>%
janitor::clean_names() %>%
filter(morte == 1) %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %in% cnes_2019c) %>%
group_by(ano, mes_ano, uf, cnes, fantasia, municipio_pad) %>%
summarise(total = n()) %>%
mutate(tipo_hosp = "hospitais existentes")
obitos_hospitais_novos <-
internacoes_t %>%
janitor::clean_names() %>%
filter(morte == 1) %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %ni% cnes_2019c) %>%
group_by(ano, mes_ano, uf, cnes, fantasia, municipio_pad) %>%
summarise(total = n()) %>%
mutate(tipo_hosp = "hospitais novos")
obitos_total <- rbind(obitos_hospitais_exist, obitos_hospitais_novos)
h <- obitos_total %>%
group_by(ano, tipo_hosp) %>%
summarise(total_obitos = sum(total)) %>%
ggplot(aes(x = ano, y = total_obitos,
fill = tipo_hosp)) + geom_col(position = "dodge") +
theme_minimal()
plotly::ggplotly(h)
obitos_total <-
obitos_total %>%
group_by(ano, tipo_hosp, uf, municipio_pad) %>%
summarise(total_obitos = sum(total))
writexl::write_xlsx(obitos_total, "08_obitos_internacoes.xlsx")
writexl::write_xlsx(media_dias_hospitais, "09_media_internacao.xlsx")
dias_hospitais_exist <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %in% cnes_2019c) %>%
group_by(ano, mes_ano, uf, municipio_pad) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais existentes")
dias_hospitais_novos <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %ni% cnes_2019c) %>%
group_by(ano, mes_ano, uf, municipio_pad) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais novos")
media_dias_hospitais <- rbind(dias_hospitais_exist,
dias_hospitais_novos)
gi_exist <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %in% cnes_2019c) %>%
group_by(ano) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais existentes")
gi_novos <-
internacoes_t %>%
janitor::clean_names() %>%
mutate(mes_ano = substr(dt_inter, 1, 6),
mes_ano = lubridate::ym(mes_ano),
ano = lubridate::year(mes_ano)) %>%
filter(cnes %ni% cnes_2019c) %>%
group_by(ano) %>%
summarise(dias_medios = round(mean(dias_perm),2)) %>%
mutate(tipo_hosp = "hospitais novos")
gi <- rbind(gi_novos, gi_exist)
i <- gi %>%
ggplot(aes(x = ano, y = dias_medios,
fill = tipo_hosp)) + geom_col(position = "dodge") +
theme_minimal()
plotly::ggplotly(i)
View(internacoes_total)
